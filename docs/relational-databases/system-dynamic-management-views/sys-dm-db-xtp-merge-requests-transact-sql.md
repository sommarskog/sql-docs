---
title: "sys.dm_db_xtp_merge_requests (Transact-SQL)"
description: sys.dm_db_xtp_merge_requests tracks database merge requests for tables in In-Memory OLTP in SQL Server 2014.
author: rwestMSFT
ms.author: randolphwest
ms.date: "02/27/2023"
ms.service: sql
ms.subservice: table-view-index
ms.topic: reference
f1_keywords:
  - "dm_db_xtp_merge_requests_TSQL"
  - "dm_db_xtp_merge_requests"
  - "sys.dm_db_xtp_merge_requests_TSQL"
  - "sys.dm_db_xtp_merge_requests"
helpviewer_keywords:
  - "sys.dm_db_xtp_merge_requests"
dev_langs:
  - "TSQL"
---
# sys.dm_db_xtp_merge_requests (Transact-SQL)

[!INCLUDE[sqlserver](../../includes/applies-to-version/sqlserver.md)] 2014 (12.x)

Tracks database merge requests. The merge request may have been generated by SQL Server or the request could have been made by a user with [sys.sp_xtp_merge_checkpoint_files (Transact-SQL)](../../relational-databases/system-stored-procedures/sys-sp-xtp-merge-checkpoint-files-transact-sql.md).

> [!NOTE]
> This dynamic management view (DMV), `sys.dm_db_xtp_merge_requests`, exists until Microsoft SQL Server 2014.
> But starting with SQL Server 2016 this DMV no longer applies.

## Columns in the report

| Column name | Data type | Description |
| :-- | :-- | :-- |
| request_state | tinyint | Status of the merge request:<br/>0 = requested<br/>1 = pending<br/>2 = installed<br/>3 = abandoned |
| request_state_desc | nvarchar(60) | Meanings for the current state of the request:<br/><br/>Requested - a merge request exists.<br/>Pending - the merge is being processing.<br/>Installed - the merge is complete.<br/>Abandoned - the merge could not complete, perhaps due to lack of storage. |
| destination_file_id | GUID | The unique identifier of the destination file for the merge of the Source files. |
| lower_bound_tsn | bigint | The minimum timestamp for the target merge file. The lowest transaction timestamp of all the source files to be merged. |
| upper_bound_tsn | bigint | The maximum timestamp for the target merge file. The highest transaction timestamp of all the source files to be merged. |
| collection_tsn | bigint | The timestamp at which the current row can be collected.<br/><br/>A row in the Installed state is removed when checkpoint_tsn is greater than collection_tsn.<br/><br/>A row in the Abandoned state is removed when checkpoint_tsn is less than collection_tsn. |
| checkpoint_tsn | bigint | The time that the checkpoint started.<br/><br/>Any deletes done by transactions with a timestamp lower than this are accounted for in the new data file. The remaining deletes are moved to the target delta file. |
| sourcenumber_file_id | GUID | Up to 16 internal file IDs that uniquely identify the source files in the merge. |

## Permissions

Requires VIEW DATABASE STATE permission on the current database.

### Permissions for SQL Server 2022 and later

Requires VIEW DATABASE PERFORMANCE STATE permission on the database.

## See also

- [Introduction to Memory-Optimized Tables](../in-memory-oltp/introduction-to-memory-optimized-tables.md)
- [Memory-Optimized Table Dynamic Management Views](../../relational-databases/system-dynamic-management-views/memory-optimized-table-dynamic-management-views-transact-sql.md)

## Next steps 

- [[!INCLUDE[inmemory](../../includes/inmemory-md.md)] Overview and Usage Scenarios](../in-memory-oltp/overview-and-usage-scenarios.md) 
